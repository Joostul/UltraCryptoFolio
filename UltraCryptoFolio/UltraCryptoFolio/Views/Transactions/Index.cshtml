@model List<UltraCryptoFolio.Models.Transaction>

@{
    ViewData["Title"] = "Home Page";
}

<h1>Transactions</h1>

<div>
    <a class="btn btn-primary" asp-action="NewInvestment">Input new Investment</a>
    <a class="btn btn-primary" asp-action="NewTrade">Input new Trade</a>
    <a class="btn btn-primary" asp-action="NewSpend">Input new Spend</a>
    <a class="btn btn-primary" asp-action="NewDivestment">Input new Divestment</a>
    <a class="btn btn-primary" asp-action="NewDividenc">Input new Dividend</a>
</div>
<table class="table table-responsive">
    <thead>
        <tr>
            <th>Transaction Type</th>
            <th>Date</th>
            <th>Spending currency</th>
            <th>Amount spent</th>
            <th>Receiving currency</th>
            <th>Amount received</th>
            <th>Transaction worth</th>
        </tr>
    </thead>
    @foreach (var transaction in Model)
    {
        <tr>
            <td>@transaction.TransactionType</td>
            <td>@transaction.DateTime.Date.ToString("yyyy-MM-dd")</td>
            @switch (transaction.TransactionType)
            {
                case UltraCryptoFolio.Models.TransactionType.Investment:
                    var investment = (UltraCryptoFolio.Models.Investment)transaction;
                    <td>@investment.SpendingCurrency</td>
                    <td>@investment.AmountSpent</td>
                    <td>@investment.ReceivingCurrency</td>
                    <td>@investment.AmountReceived.ToString("N0")</td>
                    <td>@investment.TransactionWorth</td>
                    break;
                case UltraCryptoFolio.Models.TransactionType.Divestment:
                    var divestment = (UltraCryptoFolio.Models.Divestment)transaction;
                    <td>@divestment.SpendingCurrency</td>
                    <td>@divestment.AmountSpent.ToString("N0")</td>
                    <td>@divestment.ReceivingCurrency</td>
                    <td>@divestment.AmountReceived</td>
                    <td>@divestment.TransactionWorth</td>
                    break;
                case UltraCryptoFolio.Models.TransactionType.Spend:
                    var spend = (UltraCryptoFolio.Models.Spend)transaction;
                    <td>@spend.SpendingCurrency</td>
                    <td>@spend.AmountSpent.ToString("N0")</td>
                    <td>-</td>
                    <td>-</td>
                    <td>@spend.TransactionWorth</td>
                    break;
                case UltraCryptoFolio.Models.TransactionType.Trade:
                    var trade = (UltraCryptoFolio.Models.Trade)transaction;
                    <td>@trade.SpendingCurrency</td>
                    <td>@trade.AmountSpent.ToString("N0")</td>
                    <td>@trade.ReceivingCurrency</td>
                    <td>@trade.AmountReceived.ToString("N0")</td>
                    <td>@trade.TransactionWorth</td>
                    break;
                case UltraCryptoFolio.Models.TransactionType.Dividend:
                    var dividend = (UltraCryptoFolio.Models.Dividend)transaction;
                    <td>-</td>
                    <td>-</td>
                    <td>@dividend.ReceivingCurrency</td>
                    <td>@dividend.AmountReceived.ToString("N0")</td>
                    <td>@dividend.TransactionWorth</td>
                    break;
                default:
                    break;
            }
        </tr>
    }
</table>